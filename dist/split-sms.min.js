!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.splitter=t()}}(function(){return function t(e,r,n){function a(i,s){if(!r[i]){if(!e[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(o)return o(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var f=r[i]={exports:{}};e[i][0].call(f.exports,function(t){var r=e[i][1][t];return a(r?r:t)},f,f.exports,t,e,r,n)}return r[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)a(n[i]);return a}({1:[function(t,e,r){function n(t){return t>=55296&&t<=56319}var a=t("./gsmvalidator");e.exports.split=function(t,e){function r(){var t={content:e.summary?void 0:h,length:u,bytes:l};s.push(t),c+=u,u=0,f+=l,l=0,h=""}function o(t){return e.supportShiftTables?a.validateCharacterWithShiftTable(t):a.validateCharacter(t)}function i(t){return e.supportShiftTables?a.validateExtendedCharacterWithShiftTable(t):a.validateExtendedCharacter(t)}if(e=e||{supportShiftTables:!1,summary:!1},""===t)return{parts:[{content:e.summary?void 0:"",length:0,bytes:0}],totalLength:0,totalBytes:0};for(var s=[],u=0,l=0,f=0,c=0,h="",d=0,p=t.length;d<p;d++){var v=t.charAt(d);o(v)?i(v)&&(152===l&&r(),l++):(n(v.charCodeAt(0))&&d++,v=" "),l++,u++,e.summary||(h+=v),153===l&&r()}return l>0&&r(),s[1]&&f<=160?{parts:[{content:e.summary?void 0:s[0].content+s[1].content,length:c,bytes:f}],totalLength:c,totalBytes:f}:{parts:s,totalLength:c,totalBytes:f}}},{"./gsmvalidator":2}],2:[function(t,e,r){function n(t,e){for(var r=e.length,n=0;n<r;){var a=e[n];if(t===a)return!0;n++}return!1}function a(t){return n(t.charCodeAt(0),h)}function o(t){var e=h.concat(p,g,m);return n(t.charCodeAt(0),e)}function i(t,e){for(var r=0;r<t.length;r++)if(!n(t.charCodeAt(r),e))return!1;return!0}function s(t){return i(t,h)}function u(t){for(var e=[h,p,g,m],r=0;r<e.length;r++)if(i(t,e[r]))return!0;return!1}function l(t){return n(t.charCodeAt(0),d)}function f(t){var e=d.concat(v,y,b);return n(t.charCodeAt(0),e)}function c(t,e){for(var r=[],n=0;n<t.length;n++)e?o(t[n])||r.push(t[n]):a(t[n])||r.push(t[n]);return r}var h=[10,12,13,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,163,164,165,167,191,196,197,198,199,201,209,214,216,220,223,224,228,229,230,232,233,236,241,242,246,248,249,252,915,916,920,923,926,928,931,934,936,937,8364],d=[12,91,92,93,94,123,124,125,126,8364],p=[10,12,13,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,163,164,165,167,196,197,199,201,209,214,220,223,224,228,229,231,233,241,242,246,249,252,286,287,304,305,350,351,915,916,920,923,926,928,931,934,936,937,8364],v=[12,91,92,93,94,123,124,125,126,286,287,304,305,350,351,8364],g=[10,12,13,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,163,164,165,167,191,193,196,197,198,199,201,205,209,211,214,216,218,220,223,224,225,228,229,230,231,232,233,236,237,241,242,243,246,248,249,250,252,915,916,920,923,926,928,931,934,936,937,8364],y=[12,91,92,93,94,123,124,125,126,193,205,211,218,225,231,237,243,250,8364],m=[10,12,13,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,163,165,167,170,186,192,193,194,195,199,201,202,205,211,212,213,218,220,224,225,226,227,231,233,234,237,242,243,244,245,250,252,915,916,920,928,931,934,936,937,8364,8734],b=[12,91,92,93,94,123,124,125,126,193,194,195,202,205,211,212,213,218,225,226,227,231,234,237,242,243,245,250,915,920,928,931,934,936,937,8364];e.exports.validateCharacter=a,e.exports.validateCharacterWithShiftTable=o,e.exports.validateMessage=s,e.exports.validateMessageWithShiftTable=u,e.exports.validateExtendedCharacter=l,e.exports.validateExtendedCharacterWithShiftTable=f,e.exports.getUnicodeCharacters=c},{}],3:[function(t,e,r){function n(t,e,r,n){var a=1===t.length?e:r;return(a-t[t.length-1].bytes)/n}var a=t("./gsmvalidator"),o=t("./gsmsplitter"),i=t("./unicodesplitter"),s=e.exports.UNICODE="Unicode",u=e.exports.GSM="GSM";e.exports.split=function(t,e){function r(t){return e.supportShiftTables?a.validateMessageWithShiftTable(t):a.validateMessage(t)}var l=e&&e.characterset;e={summary:e&&e.summary,supportShiftTables:e&&e.supportShiftTables};var f,c,h,d,p=void 0===l&&r(t)||l===u;p?(f=o.split(t,e),c=160,h=153,d=1):(f=i.split(t,e),c=140,h=134,d=2);var v=n(f.parts,c,h,d);return{characterSet:p?u:s,parts:f.parts,bytes:f.totalBytes,length:f.totalLength,remainingInPart:v,unicodeCharacters:p?[]:a.getUnicodeCharacters(t,e.supportShiftTables)}}},{"./gsmsplitter":1,"./gsmvalidator":2,"./unicodesplitter":4}],4:[function(t,e,r){function n(t){return t>=55296&&t<=56319}e.exports.split=function(t,e){function r(r){var n={content:e.summary?void 0:r?t.substring(l,r+1):t.substring(l),length:o,bytes:i};a.push(n),l=r+1,u+=o,o=0,s+=i,i=0}if(e=e||{summary:!1},""===t)return{parts:[{content:e.summary?void 0:"",length:0,bytes:0}],totalLength:0,totalBytes:0};for(var a=[],o=0,i=0,s=0,u=0,l=0,f=0,c=t.length;f<c;f++){var h=t.charCodeAt(f),d=n(h);d&&(132===i&&r(f-1),i+=2,f++),i+=2,o++,134===i&&r(f)}return i>0&&r(),a[1]&&s<=140?{parts:[{content:e.summary?void 0:t,length:u,bytes:s}],totalLength:u,totalBytes:s}:{parts:a,totalLength:u,totalBytes:s}}},{}]},{},[3])(3)});